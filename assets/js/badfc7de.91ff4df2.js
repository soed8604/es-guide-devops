"use strict";(self.webpackChunkes_guide_devops=self.webpackChunkes_guide_devops||[]).push([[557],{4825:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>r,default:()=>p,frontMatter:()=>a,metadata:()=>l,toc:()=>d});var i=s(4848),c=s(8453);const a={id:"Configuracion-de-pipeline-en-Jenkins",title:"Configuracion de pipeline en Jenkins",description:"Pasos para configurar un pipeline en Jenkins"},r="Crear un pipeline en jenkins para desplegar un cluster de EKS",l={id:"Guide-devops/Configuracion-de-pipeline-en-Jenkins",title:"Configuracion de pipeline en Jenkins",description:"Pasos para configurar un pipeline en Jenkins",source:"@site/docs/Guide-devops/Configuracion-de-pipeline-en-Jenkins.md",sourceDirName:"Guide-devops",slug:"/Guide-devops/Configuracion-de-pipeline-en-Jenkins",permalink:"/es-guide-devops/docs/Guide-devops/Configuracion-de-pipeline-en-Jenkins",draft:!1,unlisted:!1,editUrl:"https://github.com/soed8604/es-guide-devops/tree/main/docs/Guide-devops/docs/Guide-devops/Configuracion-de-pipeline-en-Jenkins.md",tags:[],version:"current",frontMatter:{id:"Configuracion-de-pipeline-en-Jenkins",title:"Configuracion de pipeline en Jenkins",description:"Pasos para configurar un pipeline en Jenkins"},sidebar:"tutorialSidebar",previous:{title:"Translate your site",permalink:"/es-guide-devops/docs/tutorial-extras/translate-your-site"},next:{title:"Instalar un servidor Jenkins en EC2",permalink:"/es-guide-devops/docs/Guide-devops/instalar_un_server_jenkins_en_ec2"}},o={},d=[{value:"Paso 1: Configuraci\xf3n de pipeline en Jenkins e Instalaci\xf3n de Plugins",id:"paso-1-configuraci\xf3n-de-pipeline-en-jenkins-e-instalaci\xf3n-de-plugins",level:2},{value:"Paso 2: Configuraci\xf3n de notificaciones en Jenkins",id:"paso-2-configuraci\xf3n-de-notificaciones-en-jenkins",level:2}];function t(e){const n={admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",p:"p",ul:"ul",...(0,c.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"crear-un-pipeline-en-jenkins-para-desplegar-un-cluster-de-eks",children:"Crear un pipeline en jenkins para desplegar un cluster de EKS"})}),"\n",(0,i.jsxs)(n.admonition,{type:"important",children:[(0,i.jsx)(n.mdxAdmonitionTitle,{}),(0,i.jsx)(n.p,{children:"En esta fase, crearemos un pipeline que automatizar\xe1 el despliegue y la destrucci\xf3n de un cl\xfaster de Kubernetes (EKS) utilizando Jenkins para CI/CD y Terraform para Infraestructura como C\xf3digo (IaC)."})]}),"\n",(0,i.jsx)(n.h2,{id:"paso-1-configuraci\xf3n-de-pipeline-en-jenkins-e-instalaci\xf3n-de-plugins",children:"Paso 1: Configuraci\xf3n de pipeline en Jenkins e Instalaci\xf3n de Plugins"}),"\n",(0,i.jsxs)(n.p,{children:["Para recibir notificaciones utilizaremos como ejemplo ",(0,i.jsx)(n.code,{children:"Slack"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Accedemos a ",(0,i.jsx)(n.code,{children:"Administrar Jenkins"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Seleccionamos la opci\xf3n ",(0,i.jsx)(n.code,{children:"Plugins"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Luego, elegimos ",(0,i.jsx)(n.code,{children:"Available plugins"})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["En la barra de b\xfasqueda, ingresamos Slack y seleccionamos el plugin ",(0,i.jsx)(n.code,{children:"Slack Notification"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Se recomienda reiniciar Jenkins despu\xe9s de instalar el plugin."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Regresamos al panel de control para crear nuestro primer Job."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Asignamos un nombre a nuestro Job; en este ejemplo, utilizaremos ",(0,i.jsx)(n.code,{children:"cicd-deploy-eks-terraform"})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Seleccionamos la opci\xf3n ",(0,i.jsx)(n.code,{children:"pipeline"})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://github.com/user-attachments/assets/a3c297e6-ff09-47b9-9ed2-21847ce3d078",alt:"image"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["En el Job, aparecer\xe1n varias opciones. Debemos elegir ",(0,i.jsx)(n.code,{children:"Esta ejecuci\xf3n debe parametrizarse"})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["En esta opci\xf3n, a\xf1adimos un par\xe1metro de tipo ",(0,i.jsx)(n.code,{children:"Elecci\xf3n"})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Lo llamaremos ",(0,i.jsx)(n.code,{children:"action"})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["En el campo de opciones, ingresamos las palabras clave ",(0,i.jsx)(n.code,{children:"apply"})," y ",(0,i.jsx)(n.code,{children:"destroy"}),"."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://github.com/user-attachments/assets/1acccb7c-465f-4519-8d2e-0459090f33be",alt:"image"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Seguidamente  no ubicamos en la opci\xf3n ",(0,i.jsx)(n.code,{children:"Elecci\xf3n"})," en definition seleccionamos ",(0,i.jsx)(n.code,{children:"Pipeline script from SCM"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["En el campo SCM seleccionamos ",(0,i.jsx)(n.code,{children:"Git"})," y colocaremos el repositorio de nuestro proyecto."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["En le campo ",(0,i.jsx)(n.code,{children:"Branch Specifier (blank for 'any')"})," colocamos la rama ",(0,i.jsx)(n.code,{children:"main"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Indicamos la ruta donde se encuentra nuestro archivo ",(0,i.jsx)(n.code,{children:"Jenkinsfile"})," que para este caso se encuentra en la ra\xedz del proyecto."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://github.com/user-attachments/assets/5c857355-3be9-44ff-aa36-3705b3676b9e",alt:"image"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Guardamos los cambios."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Seguidamente debemos crear los secretos que permitir\xe1 la conexi\xf3n con ",(0,i.jsx)(n.code,{children:"AWS"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Nos ubicamos en el panel de control principal, seleccionamos la opci\xf3n credentials."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://github.com/user-attachments/assets/607f777a-43d8-4bb4-b828-eefa136bd4a1",alt:"image"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Presionamos en la opci\xf3n ",(0,i.jsx)(n.code,{children:"(global)"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Luego presionamos ",(0,i.jsx)(n.code,{children:"add Credentials"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["El tipo de secreto que debemos seleccionar es ",(0,i.jsx)(n.code,{children:"Secret text"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["En el campo secret debemos colocar el valor ",(0,i.jsx)(n.code,{children:"AWS_ACCESS_KEY_ID"})," y en ID ",(0,i.jsx)(n.code,{children:"AWS_ACCESS_KEY_ID"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Salvamos los cambios."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Seguimos el mismo paso para la variable ",(0,i.jsx)(n.code,{children:"AWS_SECRET_ACCESS_KEY"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Salvamos los cambios."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://github.com/user-attachments/assets/6b868023-d67d-4bae-a36e-831a6e057d18",alt:"image"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"La configuraci\xf3n debe quedar de la siguiente manera:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://github.com/user-attachments/assets/73597633-e5c1-40ad-9ba1-f1cb37f09ee0",alt:"image"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"paso-2-configuraci\xf3n-de-notificaciones-en-jenkins",children:"Paso 2: Configuraci\xf3n de notificaciones en Jenkins"}),"\n",(0,i.jsxs)(n.p,{children:["Como se mencion\xf3 anteriormente, para este escenario utilizaremos ",(0,i.jsx)(n.code,{children:"Slack"}),". Sin embargo, es posible realizar configuraciones similares para otras herramientas de notificaci\xf3n, como ",(0,i.jsx)(n.code,{children:"MS Teams"}),"."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Nos dirigimos al panel de control principal y seleccionamos ",(0,i.jsx)(n.code,{children:"Administrar Jenkins"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Elegimos la opci\xf3n ",(0,i.jsx)(n.code,{children:"System"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Ubicamos el apartado ",(0,i.jsx)(n.code,{children:"Slack"}),"."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://github.com/user-attachments/assets/2495117a-89de-4948-a960-5272796323dd",alt:"image"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Llenar los campos ",(0,i.jsx)(n.code,{children:"Workspace"})," ",(0,i.jsx)(n.code,{children:"credential"})," ",(0,i.jsx)(n.code,{children:"Default channel"})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Esta informaci\xf3n la podemos obtener de Slack"}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Nos ubicamos en la aplicaci\xf3n Slack y creamos un ",(0,i.jsx)(n.code,{children:"Workspace"})," en este ejemplo utilizar\xe9 ",(0,i.jsx)(n.code,{children:"soed8604"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Creamos un canal para este ejemplo ",(0,i.jsx)(n.code,{children:"mono-notificacions"}),"."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://github.com/user-attachments/assets/58e2404b-b186-43c1-843e-47b853f45a12",alt:"image"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Luego nos ubicamos en el icono del perfil, presionamos y nos aparece un recuadro con una pesta\xf1as y seleccionamos ",(0,i.jsx)(n.code,{children:"integrations"})," y ",(0,i.jsx)(n.code,{children:"add an App"}),"."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://github.com/user-attachments/assets/e7e010f5-3060-428b-b83f-b81d64b419f2",alt:"image"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Elegimos ",(0,i.jsx)(n.code,{children:"Jenkins CI"})," y luego ",(0,i.jsx)(n.code,{children:"configuration"})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Esto nos llevar\xe1 a un portal web donde elegimos el canal que creamos previamente para recibir las notificaciones."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"A continuaci\xf3n, se nos redirige a una gu\xeda que proporciona la informaci\xf3n necesaria para configurar Jenkins."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Procedemos a ingresar esos valores en Jenkins."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Si los datos ingresados son correctos, puedes realizar una prueba de conexi\xf3n ",(0,i.jsx)(n.code,{children:"Test Connection"}),", la cual deber\xeda resultar en ",(0,i.jsx)(n.code,{children:"Succes"}),"."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://github.com/user-attachments/assets/db364d6c-bb74-41d3-be23-5219502d5885",alt:"image"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Salvamos los cambios."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Luego de realizar estas configuraciones, estaremos listos para probar nuestro pipeline."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Ubicamos nuestro job ",(0,i.jsx)(n.code,{children:"cicd-deploy-eks-terraform"}),", lo seleccionamos y luego elegimos la opci\xf3n ",(0,i.jsx)(n.code,{children:"Build with Parameters"}),"."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://github.com/user-attachments/assets/e81a3ff5-4142-4c81-a824-9ec7c4bde326",alt:"image"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.admonition,{type:"important",children:(0,i.jsx)(n.p,{children:"En la prueba t\xe9cnica se solicita que se realice el build del cl\xfaster EKS mediante un push. Sin embargo, para facilitar la creaci\xf3n y destrucci\xf3n del cl\xfaster, se ha implementado un par\xe1metro que permite seleccionar la acci\xf3n a realizar."})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Cuando presionemos ",(0,i.jsx)(n.code,{children:"Build with Parameters"}),", nos aparecera dos opciones ",(0,i.jsx)(n.code,{children:"apply"})," y ",(0,i.jsx)(n.code,{children:"destroy"})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://github.com/user-attachments/assets/ca3d1ec7-bece-4629-9a6a-aefd6bfd7ddf",alt:"image"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["En este caso elegimos ",(0,i.jsx)(n.code,{children:"apply"})," para la creaci\xf3n automatizada del cluster."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Si toda la configuraci\xf3n se realizo correctamente el proceso de creaci\xf3n puede demorar aproximadamente 15 minutos."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://github.com/user-attachments/assets/935329dd-6a81-4185-9e0b-0c5805ed133e",alt:"image"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://github.com/user-attachments/assets/0a4d6f6a-8486-4c2b-b4a2-8d5bb7793d36",alt:"image"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://github.com/user-attachments/assets/f06331bb-b91b-41f4-9be4-a19d3e8864eb",alt:"image"})}),"\n"]}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(t,{...e})}):t(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>l});var i=s(6540);const c={},a=i.createContext(c);function r(e){const n=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:r(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);