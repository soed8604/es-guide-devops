"use strict";(self.webpackChunkes_guide_devops=self.webpackChunkes_guide_devops||[]).push([[1856],{3692:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>i,metadata:()=>t,toc:()=>l});var a=n(4848),r=n(8453);const i={id:"instalar_un_server_jenkins_en_ec2",title:"Instalar un servidor Jenkins en EC2",description:"C\xf3mo instalar Jenkins en una instancia de EC2."},c="Instalar un servidor Jenkins en EC2",t={id:"Guide-devops/instalar_un_server_jenkins_en_ec2",title:"Instalar un servidor Jenkins en EC2",description:"C\xf3mo instalar Jenkins en una instancia de EC2.",source:"@site/docs/Guide-devops/Instalar-un-server-jenkins-en-ec2.md",sourceDirName:"Guide-devops",slug:"/Guide-devops/instalar_un_server_jenkins_en_ec2",permalink:"/es-guide-devops/docs/Guide-devops/instalar_un_server_jenkins_en_ec2",draft:!1,unlisted:!1,editUrl:"https://github.com/soed8604/es-guide-devops/tree/main/docs/Guide-devops/docs/Guide-devops/Instalar-un-server-jenkins-en-ec2.md",tags:[],version:"current",frontMatter:{id:"instalar_un_server_jenkins_en_ec2",title:"Instalar un servidor Jenkins en EC2",description:"C\xf3mo instalar Jenkins en una instancia de EC2."},sidebar:"tutorialSidebar",previous:{title:"Configuracion de pipeline en Jenkins",permalink:"/es-guide-devops/docs/Guide-devops/Configuracion-de-pipeline-en-Jenkins"}},o={},l=[{value:"Requisitos previos",id:"requisitos-previos",level:2},{value:"Paso 1: Clonar repositorio",id:"paso-1-clonar-repositorio",level:2},{value:"Paso 2: Ingresar a AWS Console",id:"paso-2-ingresar-a-aws-console",level:2},{value:"Paso 3: Terraform",id:"paso-3-terraform",level:2},{value:"Paso 3: Jenkins",id:"paso-3-jenkins",level:2}];function d(e){const s={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.header,{children:(0,a.jsx)(s.h1,{id:"instalar-un-servidor-jenkins-en-ec2",children:"Instalar un servidor Jenkins en EC2"})}),"\n",(0,a.jsxs)(s.admonition,{type:"important",children:[(0,a.jsx)(s.mdxAdmonitionTitle,{}),(0,a.jsx)(s.p,{children:"Esta instalaci\xf3n se realizar\xe1 utilizando Terraform, una herramienta de infraestructura como c\xf3digo. Aseg\xfarate de tener un buen conocimiento de Terraform antes de continuar, ya que cualquier cambio en la configuraci\xf3n puede afectar los recursos de AWS y generar costos no deseados."})]}),"\n",(0,a.jsx)(s.p,{children:"En esta gu\xeda, aprender\xe1s a instalar Jenkins en una instancia de Amazon EC2 usando Terraform. Jenkins es un servidor de automatizaci\xf3n de c\xf3digo abierto que ayuda a automatizar partes del desarrollo de software."}),"\n",(0,a.jsx)(s.h2,{id:"requisitos-previos",children:"Requisitos previos"}),"\n",(0,a.jsx)(s.p,{children:"Antes de comenzar, aseg\xfarate de tener instalados y configurados los siguientes requisitos:"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.strong,{children:"Git"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:(0,a.jsx)(s.a,{href:"https://git-scm.com/doc",children:"Documentaci\xf3n de Git"})}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.strong,{children:"AWS CLI"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:(0,a.jsx)(s.a,{href:"https://aws.amazon.com/cli/",children:"Documentaci\xf3n de Git"})}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.strong,{children:"Cuenta de AWS"}),": Aseg\xfarate de tener una cuenta activa de Amazon Web Services (AWS).","\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:(0,a.jsx)(s.a,{href:"https://docs.aws.amazon.com/console",children:"Documentaci\xf3n de la Consola de AWS"})}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.strong,{children:"Terraform v1.9.8"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:(0,a.jsx)(s.a,{href:"https://developer.hashicorp.com/terraform/install",children:"Documentaci\xf3n de Terraform"})}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(s.li,{children:[(0,a.jsx)(s.strong,{children:"Visual Studio Code (VSCode)"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:(0,a.jsx)(s.a,{href:"https://code.visualstudio.com/docs",children:"Documentaci\xf3n de VSCode"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(s.h2,{id:"paso-1-clonar-repositorio",children:"Paso 1: Clonar repositorio"}),"\n",(0,a.jsxs)(s.p,{children:["Para clonar el repositorio ",(0,a.jsx)(s.code,{children:"git@github.com:soed8604/Proyecto_Mono.git"}),", sigue estos pasos:"]}),"\n",(0,a.jsxs)(s.ol,{children:["\n",(0,a.jsxs)(s.li,{children:["\n",(0,a.jsxs)(s.p,{children:[(0,a.jsx)(s.strong,{children:"Abre tu terminal"})," en tu m\xe1quina local."]}),"\n"]}),"\n",(0,a.jsxs)(s.li,{children:["\n",(0,a.jsxs)(s.p,{children:[(0,a.jsx)(s.strong,{children:"Navega al directorio"})," donde deseas clonar el repositorio. Por ejemplo, si deseas clonarlo en un directorio llamado ",(0,a.jsx)(s.code,{children:"proyectos"}),", puedes hacerlo as\xed:"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"cd ~/proyectos\n"})}),"\n"]}),"\n",(0,a.jsxs)(s.li,{children:["\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.strong,{children:"Clona el repositorio utilizando el siguiente comando:"})}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"git clone git@github.com:soed8604/Proyecto_Mono.git\n"})}),"\n"]}),"\n",(0,a.jsxs)(s.li,{children:["\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.strong,{children:"Ingresa al directorio del repositorio clonado:"})}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"cd Proyecto_Mono\n"})}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(s.admonition,{type:"important",children:(0,a.jsxs)(s.p,{children:["Aseg\xfarate de que tienes configurada una clave SSH en tu m\xe1quina y que est\xe1 a\xf1adida a tu cuenta de GitHub, ya que est\xe1s utilizando la URL SSH (",(0,a.jsx)(s.code,{children:"git@github.com:..."}),"). Si no tienes configurada la clave SSH, puedes optar por usar la URL HTTPS:"]})}),"\n",(0,a.jsx)(s.h2,{id:"paso-2-ingresar-a-aws-console",children:"Paso 2: Ingresar a AWS Console"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsxs)(s.li,{children:["\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.strong,{children:"Crear un usuario de servicio en IAM"})}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{src:"https://github.com/user-attachments/assets/af590aa0-8a8f-4670-b0b3-d44ea52d3512",alt:"Image 1"})}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{src:"https://github.com/user-attachments/assets/0bdbc617-c68b-4107-ba9c-d5d83e1a1743",alt:"Image 2"})}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{src:"https://github.com/user-attachments/assets/cd039293-fa18-4d7d-8715-bb668675ba6b",alt:"Image 3"})}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{src:"https://github.com/user-attachments/assets/02c5c440-b28f-4ba2-add2-f3808570ebe6",alt:"Image 4"})}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{src:"https://github.com/user-attachments/assets/7e2c52ba-0d2f-41b1-bdba-cb457d68a895",alt:"Image 5"})}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{src:"https://github.com/user-attachments/assets/b1fd493b-bc30-40df-bc5c-fcf821bfce56",alt:"Image 6"})}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{src:"https://github.com/user-attachments/assets/894bac80-4474-4e00-b0b6-ae186720c482",alt:"Image 7"})}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{src:"https://github.com/user-attachments/assets/b00e9303-8bf6-46ea-a02b-896117edc42d",alt:"Image 8"})}),"\n"]}),"\n",(0,a.jsxs)(s.li,{children:["\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.strong,{children:"Crear un bucket de S3 para almacenar el archivo tfstate de Terraform de forma segura"})}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{src:"https://github.com/user-attachments/assets/747ab7bd-6c6f-4be3-aa24-9ecbe9c6b214",alt:"image"})}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{src:"https://github.com/user-attachments/assets/193381f5-9c80-446a-8a56-0fe8837ad21c",alt:"image"})}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{src:"https://github.com/user-attachments/assets/b6f4c171-cb52-46b3-be37-907fb8d7daf0",alt:"image"})}),"\n"]}),"\n",(0,a.jsxs)(s.li,{children:["\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.strong,{children:"Crear un key pair"})}),"\n",(0,a.jsx)(s.admonition,{type:"important",children:(0,a.jsx)(s.p,{children:"Este par de claves ser\xe1 utilizado por el usuario previamente creado para interactuar con la instancia EC2 y realizar la instalaci\xf3n de los paquetes necesarios para asegurar el correcto funcionamiento de Jenkins."})}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{src:"https://github.com/user-attachments/assets/9e9a7be4-00f7-4c06-9511-503b7beb3498",alt:"image"})}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{src:"https://github.com/user-attachments/assets/555b0c6a-6b37-448a-9bb3-efac12376f8d",alt:"image"})}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{src:"https://github.com/user-attachments/assets/a94d36df-69f4-4e17-b7e1-8b4f2455d078",alt:"image"})}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(s.h2,{id:"paso-3-terraform",children:"Paso 3: Terraform"}),"\n",(0,a.jsx)(s.admonition,{type:"important",children:(0,a.jsxs)(s.p,{children:["Para el despliegue del cluster EKS utilizamos la documentaci\xf3n oficial de terraform ",(0,a.jsx)(s.a,{href:"https://developer.hashicorp.com/terraform/tutorials/kubernetes/eks",children:"Enlace de documentaci\xf3n"}),"."]})}),"\n",(0,a.jsx)(s.p,{children:"En este paso nos devolvemos a la consola en donde clonamos nuestro proyecto. El proyecto esta desarrollado en tres pasos."}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:(0,a.jsx)(s.strong,{children:"01-jenkins-server"})}),"\n",(0,a.jsx)(s.li,{children:(0,a.jsx)(s.strong,{children:"02-mono-eks-cluster"})}),"\n",(0,a.jsx)(s.li,{children:(0,a.jsx)(s.strong,{children:"03-k8s-teslo"})}),"\n"]}),"\n",(0,a.jsxs)(s.p,{children:["Ingresamos al directorio ",(0,a.jsx)(s.code,{children:"01-jenkins-server"})," y debemos realizar los siguientes ajustes al c\xf3digo:"]}),"\n",(0,a.jsxs)(s.p,{children:["En el archivo ",(0,a.jsx)(s.code,{children:"backend.tf"}),", es necesario especificar el nombre del bucket de S3 que creamos previamente para almacenar de forma segura el estado ",(0,a.jsx)(s.code,{children:"tfstate.tf"})," de Terraform."]}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{src:"https://github.com/user-attachments/assets/9b17d0bd-62e1-4364-8e27-b7d5da119040",alt:"image"})}),"\n",(0,a.jsxs)(s.p,{children:["En el archivo ",(0,a.jsx)(s.code,{children:"main.tf"}),", dentro del m\xf3dulo de la instancia EC2, es necesario especificar el nombre del ",(0,a.jsx)(s.code,{children:"key pair"})," que hemos creado previamente para permitir el acceso seguro a la instancia."]}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{src:"https://github.com/user-attachments/assets/283cd23b-8f37-4367-b562-eaee85a25239",alt:"image"})}),"\n",(0,a.jsx)(s.p,{children:"Despu\xe9s de completar la configuraci\xf3n, ejecutaremos los siguientes comandos para aplicar los cambios:"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"# Inicializar Terraform\nterraform init\n"})}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"# Validate la configuraci\xf3n de terraform\nterraform validate\n"})}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"# formatear el c\xf3digo de terraform\nterraform fmt\n"})}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"# Revisar el plan de despliegue de la infraestructura \nterraform plan\n"})}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"# Aplicar el despliegue de la infraestructura \nterraform apply\n"})}),"\n",(0,a.jsx)(s.p,{children:"Para destruir la infraestructura creada se ejecuta el comando:"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"# Aplicar el despliegue de la infraestructura \nterraform destroy\n"})}),"\n",(0,a.jsx)(s.h2,{id:"paso-3-jenkins",children:"Paso 3: Jenkins"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsxs)(s.li,{children:["\n",(0,a.jsx)(s.p,{children:"Ingresamos a la consola de AWS"}),"\n"]}),"\n",(0,a.jsxs)(s.li,{children:["\n",(0,a.jsxs)(s.p,{children:["Nos ubicamos en el servicio EC2 y verificamos que se haya desplegado nuestra instancia de ",(0,a.jsx)(s.code,{children:"Jenkins-Server"})]}),"\n"]}),"\n",(0,a.jsxs)(s.li,{children:["\n",(0,a.jsx)(s.p,{children:"Seleccionamos la instancia y buscamos la informaci\xf3n de la IP p\xfablica que nos permitira el acceso al dashboard de jenkins"}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{src:"https://github.com/user-attachments/assets/3950f27d-7f52-45fc-bb3a-58ef075562da",alt:"image"})}),"\n"]}),"\n",(0,a.jsxs)(s.li,{children:["\n",(0,a.jsxs)(s.p,{children:["Abrimos un navegador y colocamos la ",(0,a.jsx)(s.code,{children:"IP P\xfablica:8080"})]}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{src:"https://github.com/user-attachments/assets/05fec8f8-861b-44cd-8265-bd416e12f749",alt:"image"})}),"\n"]}),"\n",(0,a.jsxs)(s.li,{children:["\n",(0,a.jsxs)(s.p,{children:["Copiamos la ruta ",(0,a.jsx)(s.code,{children:"/var/lib/jenkins/secrets/initialAdminPassword"})," y nos devolvemos a la consola de aws para ingresar a la instancia EC2."]}),"\n"]}),"\n",(0,a.jsxs)(s.li,{children:["\n",(0,a.jsxs)(s.p,{children:["Seleccionamos la instancia y presionamos la opcion conectar y elegimos la primera opci\xf3n ",(0,a.jsx)(s.code,{children:"EC2 instance Connect"})," y presionamos conectar, esto abrira una terminal donde podremos interactuar con el servidor."]}),"\n"]}),"\n",(0,a.jsxs)(s.li,{children:["\n",(0,a.jsxs)(s.p,{children:["Ejecutar el comando ",(0,a.jsx)(s.code,{children:"sudo cat /var/lib/jenkins/secrets/initialAdminPassword"})," esto nos indicar\xe1 el password para ingresar"]}),"\n"]}),"\n",(0,a.jsxs)(s.li,{children:["\n",(0,a.jsx)(s.p,{children:"Copiamos y pegamos el password en el dashboard, luego instalamos los plugins sugeridos."}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{src:"https://github.com/user-attachments/assets/1206dc5a-eed2-41be-b248-171db906ba94",alt:"image"})}),"\n"]}),"\n",(0,a.jsxs)(s.li,{children:["\n",(0,a.jsx)(s.p,{children:"Crear un nuevo usuario y password"}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{src:"https://github.com/user-attachments/assets/a941b2f5-9966-4987-9d80-4d07acedec12",alt:"image"})}),"\n"]}),"\n",(0,a.jsxs)(s.li,{children:["\n",(0,a.jsx)(s.p,{children:"Presionamos siguientes a los demas items hasta llevarnos a la pantalla principal de Jenkins"}),"\n",(0,a.jsx)(s.p,{children:(0,a.jsx)(s.img,{src:"https://github.com/user-attachments/assets/454b0f22-aa13-4649-8343-02a2de8c59da",alt:"image"})}),"\n"]}),"\n",(0,a.jsxs)(s.li,{children:["\n",(0,a.jsx)(s.p,{children:"Esto garantiza la creaci\xf3n adecuada del servidor de Jenkins."}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,a.jsx)(s,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>c,x:()=>t});var a=n(6540);const r={},i=a.createContext(r);function c(e){const s=a.useContext(i);return a.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function t(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),a.createElement(i.Provider,{value:s},e.children)}}}]);